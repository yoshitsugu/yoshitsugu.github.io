<!DOCTYPE html>
<html lang="ja">
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
        <meta name="viewport" content="width=device-width,minimum-scale=1,initial-scale=1">
        <meta http-equiv="X-UA-Compatible" content="IE=Edge">
        <title>Programming Rustを読んだ - TSUGULOG</title>
        <meta name="description" content="yoshitsugu's blog">
        <link rel="shortcut icon" href="../images/favicon.ico" type="image/x-icon">
        <link rel="icon" href="../images/favicon.ico" type="image/x-icon">
        <meta property="og:title" content="Programming Rustを読んだ - TSUGULOG" />
        <meta property="og:type" content="blog" />
        <meta property="og:image" content="https://yoshitsugu.net/images/title.png" />
        <meta property="og:site_name" content="TSUGULOG" />
        <meta property="og:url" content="https://yoshitsugu.net/posts/2018-03-15-programming-rust.html" />
        <meta property="og:description" content="
    Posted on 2018-03-15
    
    
    , Tags: Rust, Book Review
    


Programming Rust を読んだので感想を書く。" />
        <meta name="twitter:card" content="summary" />
        <meta name="twitter:site" content="@_yoshitsugu" />
        <meta name="twitter:title" content="Programming Rustを読んだ - TSUGULOG" />
        <meta name="twitter:image" content="https://yoshitsugu.net/images/title.png" />
        <meta name="twitter:description" content="
    Posted on 2018-03-15
    
    
    , Tags: Rust, Book Review
    


Programming Rust を読んだので感想を書く。" />
        <link rel="stylesheet" href="../css/pure-min.css">
        <link rel="stylesheet" href="../css/grids-responsive-min.css">
        <link rel="stylesheet" href="../css/blog.css">
        <link rel="stylesheet" href="../css/highlight.css">
        <script type="text/javascript" id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script>
    </head>
    <body>
        <div id="wrapper">
            <div id="container">
                <header id="header" class="pure-menu pure-menu-horizontal">
                    <div id="logo" class="pure-menu-heading pure-menu-link">
                        <a href="../" class="pure-menu-link">TSUGULOG</a>
                    </div>
                    <ul class="pure-menu-list header-menu">
                        <li class="pure-menu-item"><a href="../" class="pure-menu-link">Home</a></li>
                        <li class="pure-menu-item"><a href="../archive.html" class="pure-menu-link">Archive</a></li>
                        <li class="pure-menu-item"><a href="../about.html" class="pure-menu-link">About</a></li>
                    </ul>
                </header>
                <div id="content">
                    <h1>Programming Rustを読んだ</h1>
                    
                    <div class="info">
    <span class="date">Posted on 2018-03-15</span>
    
    
    <span class="tags">, Tags: <a title="All pages tagged 'Rust'." href="../tags/Rust.html" rel="tag">Rust</a>, <a title="All pages tagged 'Book Review'." href="../tags/Book%20Review.html" rel="tag">Book Review</a></span>
    
</div>

<p><a href="http://shop.oreilly.com/product/0636920040385.do">Programming Rust</a> を読んだので感想を書く。<!--more--></p>
<h2 id="読んだ目的">読んだ目的</h2>
<p>Rustについては、これまで<a href="../posts/2017-04-05-daemonize-gskkserv.html">小さいツール</a>を作ったりして、気がむいたときに勉強していた。普段Ruby on RailsでWebアプリケーション作っているとRustが得意とするようなシステムプログラミングの領域に関わることがあまりなく、新鮮だった。今回、さらにRustの考え方などを身につけたいと思い、読んだ。</p>
<h2 id="感想など">感想など</h2>
<p>まだ一通り通読したところで、なかなか身についたとは言い難いが、ところどころメモリ上でのデータ配置の図がでてきたり、自分の普段の業務だとあまり意識しないところまで書いてあって、学生時代にC言語と格闘したことを少し思い出した。</p>
<h3 id="concurrency">Concurrency</h3>
<p>特にChapter19 Concurrencyが印象に残っている。<br />
Concurrencyについては、<code>Send</code>と<code>Sync</code>という2つのtraitによって、それぞれ「他のスレッドに安全に送ることができること」「スレッド間で安全に共有できること」が宣言できる。安全というのはデータ競合などの予測できない挙動の原因となるものが発生しない、という意味だ。<code>Send</code>は<code>Sync</code>を内包している。<code>i32</code>や<code>bool</code>などは<code>Send+Sync</code>だが、<code>Cell&lt;usize&gt;</code>などは<code>Send</code>であるが<code>Sync</code>でない。<code>Rc&lt;T&gt;</code>は<code>Send</code>でも<code>Sync</code>でもない。<br />
あるスレッドから他のスレッドヘ値を送る操作では、<code>Send</code>のみを許可することで、<code>Rc</code>などデータ競合が発生しうるものをうっかり操作することを防いでいる。<br />
スレッドセーフかどうかの検査もできるだけコンパイル時に寄せることで、安全にプログラミングできるようにする、というのはなかなか考えられているなと思った。</p>
<h2 id="今後">今後</h2>
<p>最近は<a href="https://turingcomplete.fm/">turingcomplete.fm</a>という低レイヤーの話が中心のポッドキャストもあり、低レイヤーの話が気になっているので、Rustを中心としてシステムプログラミング関連の内容も興味が続く限りはぼちぼち勉強していこうと思う。<br />
あと、コマンドラインツールなど、自分が使うものをRustで作っていきたい。<br />
仕事で使うかどうかは、もちろん自分ひとりの好みでは使用技術を決められないのでなんとも言えない。しかし、この間試しにRubyで書いたバッチ処理をRustでおきかえたところ、実行にかかる時間が30分から5分になった。もちろん元のRubyのコードの書き方が悪かったり、いろいろな問題があっての結果だとは思うが、例えば開発環境の補助ツールなど、用途を限れば仕事の中でも使えそうだと思っている。</p>

<div class="social-buttons">
<a href="http://b.hatena.ne.jp/entry/https://yoshitsugu.net/posts/2018-03-15-programming-rust.html" class="hatena-bookmark-button" data-hatena-bookmark-title="Programming Rustを読んだ - TSUGULOG" data-hatena-bookmark-layout="standard-noballoon" data-hatena-bookmark-lang="en" title="このエントリーをはてなブックマークに追加"><img src="https://b.st-hatena.com/images/entry-button/button-only@2x.png" alt="このエントリーをはてなブックマークに追加" width="20" height="20" style="border: none;" /></a><script type="text/javascript" src="https://b.st-hatena.com/js/bookmark_button.js" charset="utf-8" async="async"></script>
<a href="https://twitter.com/share" class="twitter-share-button" data-via="_yoshitsugu">Tweet</a>
<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>
</div>

                    
                </div>
            </div>
            <footer id="footer">
                &copy; 2016 Kota Yoshitsugu <br>
                This site is powered by
                <a href="http://jaspervdj.be/hakyll" target="_blank">Hakyll</a>
                , <a href="http://purecss.io/" target="_blank">Pure.css</a>
        </footer>
        
      </div>
    </body>
</html>
